Hola voy a compartirte un proyecto con github de un desarrollo tecnico sobre cómo construir un rag multimodal para que un modelo vlm tenga el contexto de un embedding con un retrieve generado por un modelo con arquitectura dinov3 a partir de un dataset curado.    
El proyecto está terminado, ya he hecho evaluacion y pruebas sobre este retriever para  un rag multimodal sobre un conjunto de imagenes con una herramienta externa. Pero no he quedado del todo satisfecho, te comentaré con más detalle más adelante    
En el repositorio hay algunos documentos en formato .md que son clave para que tengas un mejor contexto, osn los siguientes: 
* RAG_MULTIMODAL_TECHNICAL_DESIGN: es el documento incial, fue el primer docuemnto que generé para tener un poco el estado del arte, referencias y cuáles eran los mejores paasos a seguir ppara comletar mi proyecto (no se ha seguido al completo debido a algunos cambios o decisiones para mejorar el retrieve, pero sirve muy bien para tener ese contexto incial). 
* POC_IMPLEMENTATION_PLAN: fue el docuemnto que generé para tener claros los pasos a seguir en la implementacion (está un poco mal actualizado por lo mismo que te he comentado en el anterior) 
* CLUSTERED_CROPS_TECHNICAL_JUSTIFICATION: docuemnto justificativo inicialmente de por qué hacer un rag retriever sobre crops clusterizados podría ser óptimo.

El último flujo de trabajo que seguí para generar mi rag final ha sido el siguiente (en cuanto a ejecución de scripts, para que tengas el contexto de esos modulos o scripts en python y no otros que no me han servido mucho al final):  

 1) 00_analyze_full_dataset: analisis exahustivo del dataset original etiquetado mediante segmentación.
 2) Ejecuté luego el modulo 01_prepare_dataset_balanced_split_8020.py para tener un dataset splitteado en train y test bien balanceado, teneindo en cuenta las etiquetas del dataset original. 
 3) 03_generate_hybrid_embeddings_fullimages.py: este fue el siguieinte modulo a ejecutar, se decidió a ultima hora que la mejor manera de generar el embedding era a través de esta arquitectura moderna (también se consideró CLIP que es una rquitectura comun para este tipo de proyectos, pero finalmente se desechó por no ser algo tan actual). Este modulo llama al multimodal_embedder.py, que es clave para entender como se generan ahora los embeddings con las imagenes completas con una mezcla hibrida entre texto (descripciones) y contexto visual.
 4) 04_build_faiss_index_full_images.py:  este modulo me permitió generar los indices para hacer busquedas en el retrieve de similitud en funcion de cada imagen sobre la que se iterase. 
 5) 05_evaluate_rag_hybrid.py. Este modulo sirvió para hacer una evaluación rapida de cómo eran los resultados del rag completo, a su vez este modulo llama a modulos muy importantes como el retriever_fullimages.py y el multimodal_embedder.py.

Otra modificación de última hora para que el retrieve tuviera un mejor contexto fue la de añadir una clase TaxonomyNormalizer la cual ayudó a que el rag tuviera mejor sintetizada la informacion o taxonomia de los formatos de las cadenas de texto para el rag multimodal. 

En un prinicipio se pensó que la mejor manera de generar los embeddings era a través de unos crops clusterizados por daños, pero en una siguiente fase se ha optado por generar un embedding hibrido entre texto e imagen con descripciones, y con la imagen original a resolucion original.

Con todo esto y sintetizando muy bien el codigo bien comentado y los documento (aunque un pocoo desfasados) quieor que me generes un fichero .md un poco explicativo pero sin ser muy extenso y largo, poruque despues sobre ese docuemtnto quiero poder generar un doc en formato word para un documento tecnico explicativo de este proyecto






Quiero que me elimines el punto 8.3, no es necesario ya que el cliente tiene informacion util en qué vlms habría disponibles no es necesario ejemplificar. Tampoco es necesario qeu ejemplifiques en el docuemnto etcnico con fragmentos de codigo, es innecesario y queda mal. NO ES NADA NECESARIO que me generes metricas inventadas en simulaciones con distintos vlms, no te he pedido eso de NINGUNA manera. Solo quieor una pequeña seccion donde al cliente le quede claro sin necesidad de estar inventándome pequeñas cosas o secciones o alucinando datso que no son. Has entendido todo? 

Quiero que lo que me generes vaya en fomrato markdown para poder integrarlo en mi .md que te compartí iniclamente (no es necesario que me escupas el docuemtno  al completo, solo la seccion que te he pddido que añadas)